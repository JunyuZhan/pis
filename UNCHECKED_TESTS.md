# ğŸ” æœªæ£€æŸ¥çš„æµ‹è¯•æ¸…å•

**ç”Ÿæˆæ—¶é—´**: 2026-02-06  
**ç›®çš„**: åˆ—å‡ºæ‰€æœ‰å°šæœªè¿è¡Œæˆ–éªŒè¯çš„æµ‹è¯•è„šæœ¬

---

## ğŸ“Š æµ‹è¯•çŠ¶æ€æ€»è§ˆ

### âœ… å·²æ£€æŸ¥çš„æµ‹è¯• (8ä¸ª)

1. âœ… **é›†æˆæµ‹è¯•** (`integration-test.sh`) - 14/14 é€šè¿‡ (100%)
2. âœ… **ä¸šåŠ¡é€»è¾‘æµ‹è¯•** (`test-business-logic.sh`) - 22/22 é€šè¿‡ (100%)
3. âœ… **è®¤è¯ä¼šè¯æµ‹è¯•** (`test-auth-session.sh`) - 9/9 é€šè¿‡ (100%)
4. âœ… **è®¤è¯è¾¹ç•Œæƒ…å†µæµ‹è¯•** (`test-auth-edge-cases.sh`) - 17/17 é€šè¿‡ (100%)
5. âœ… **æƒé™æµ‹è¯•** (`test-permissions.sh`, `check-permission-coverage.sh`) - 100% é€šè¿‡
6. âœ… **å®Œæ•´åŠŸèƒ½æµ‹è¯•** (`test-full-features.sh`) - 26/27 é€šè¿‡ (96%)
7. âœ… **å¯†ç æµç¨‹æµ‹è¯•** (`test-password-flow.sh`) - å·²é€šè¿‡
8. âœ… **ç”¨æˆ·åˆå§‹åŒ–å¯†ç æµ‹è¯•** (`test-user-init-password.sh`) - å·²é€šè¿‡

---

## âš ï¸ æœªæ£€æŸ¥çš„æµ‹è¯• (20+ä¸ª)

### ğŸ”´ é«˜ä¼˜å…ˆçº§ - æ ¸å¿ƒåŠŸèƒ½æµ‹è¯•

#### 1. API ç«¯ç‚¹æµ‹è¯• âš ï¸ **æœªéªŒè¯**
- **è„šæœ¬**: `scripts/test/test-api-endpoints.sh`
- **æè¿°**: æµ‹è¯•æ‰€æœ‰ API ç«¯ç‚¹çš„åŠŸèƒ½å’Œå“åº”
- **é‡è¦æ€§**: ğŸ”´ é«˜ - éªŒè¯æ‰€æœ‰ API ç«¯ç‚¹æ˜¯å¦æ­£å¸¸å·¥ä½œ
- **è¿è¡Œå‘½ä»¤**: 
  ```bash
  BASE_URL=http://localhost:3000 bash scripts/test/test-api-endpoints.sh
  ```

#### 2. E2E ç«¯åˆ°ç«¯æµ‹è¯• âš ï¸ **æœªéªŒè¯**
- **è„šæœ¬**: `scripts/test/test-e2e.sh`
- **æè¿°**: è¿è¡Œ Playwright E2E æµ‹è¯•ï¼ŒéªŒè¯å®Œæ•´ç”¨æˆ·æµç¨‹
- **é‡è¦æ€§**: ğŸ”´ é«˜ - éªŒè¯å®Œæ•´ç”¨æˆ·äº¤äº’æµç¨‹
- **æµ‹è¯•æ–‡ä»¶**:
  - `e2e/admin-flow.spec.ts` - ç®¡ç†å‘˜å®Œæ•´æµç¨‹
  - `e2e/guest-flow.spec.ts` - è®¿å®¢æµç¨‹
  - `e2e/photo-upload-flow.spec.ts` - ç…§ç‰‡ä¸Šä¼ æµç¨‹
  - `e2e/error-scenarios.spec.ts` - é”™è¯¯åœºæ™¯æµ‹è¯•
  - `e2e/mobile.spec.ts` - ç§»åŠ¨ç«¯æµ‹è¯•
- **è¿è¡Œå‘½ä»¤**: 
  ```bash
  pnpm test:e2e
  # æˆ– UI æ¨¡å¼
  pnpm test:e2e:ui
  ```

#### 3. ç™»å½•æµç¨‹æµ‹è¯• âš ï¸ **æœªéªŒè¯**
- **è„šæœ¬**: `scripts/test/test-login-flow.sh`
- **æè¿°**: æµ‹è¯•ç™»å½•æµç¨‹çš„å®Œæ•´æ€§å’Œæ­£ç¡®æ€§
- **é‡è¦æ€§**: ğŸ”´ é«˜ - éªŒè¯ç™»å½•åŠŸèƒ½
- **è¿è¡Œå‘½ä»¤**: 
  ```bash
  BASE_URL=http://localhost:3000 bash scripts/test/test-login-flow.sh
  ```

#### 4. è´¦æˆ·åˆ›å»ºæµç¨‹æµ‹è¯• âš ï¸ **æœªéªŒè¯**
- **è„šæœ¬**: `scripts/test/test-account-creation-flow.sh`
- **æè¿°**: æµ‹è¯•è´¦æˆ·åˆ›å»ºæµç¨‹
- **é‡è¦æ€§**: ğŸ”´ é«˜ - éªŒè¯ç”¨æˆ·æ³¨å†Œ/åˆ›å»ºåŠŸèƒ½
- **è¿è¡Œå‘½ä»¤**: 
  ```bash
  BASE_URL=http://localhost:3000 bash scripts/test/test-account-creation-flow.sh
  ```

---

### ğŸŸ¡ ä¸­ä¼˜å…ˆçº§ - æ€§èƒ½å’Œç¨³å®šæ€§æµ‹è¯•

#### 5. 360åº¦å…¨é¢æµ‹è¯• âš ï¸ **æœªéªŒè¯**
- **è„šæœ¬**: `scripts/test/test-360.sh`
- **æè¿°**: å…¨æ–¹ä½æµ‹è¯•ç³»ç»Ÿï¼ŒåŒ…æ‹¬ç«¯åˆ°ç«¯ã€å‹åŠ›ã€æ•…éšœæ¢å¤ã€æ•°æ®å®Œæ•´æ€§ç­‰
- **é‡è¦æ€§**: ğŸŸ¡ ä¸­ - å…¨é¢ç³»ç»Ÿæµ‹è¯•
- **è¿è¡Œå‘½ä»¤**: 
  ```bash
  BASE_URL=http://localhost:3000 bash scripts/test/test-360.sh
  ```

#### 6. é«˜å¹¶å‘æµ‹è¯• âš ï¸ **æœªéªŒè¯**
- **è„šæœ¬**: `scripts/test/test-high-concurrency.sh`
- **æè¿°**: æµ‹è¯•ç³»ç»Ÿåœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹çš„æ€§èƒ½å’Œç¨³å®šæ€§
- **é‡è¦æ€§**: ğŸŸ¡ ä¸­ - éªŒè¯ç³»ç»Ÿåœ¨é«˜è´Ÿè½½ä¸‹çš„è¡¨ç°
- **è¿è¡Œå‘½ä»¤**: 
  ```bash
  BASE_URL=http://localhost:3000 bash scripts/test/test-high-concurrency.sh
  ```

#### 7. æ•°æ®åº“æ€§èƒ½æµ‹è¯• âš ï¸ **æœªéªŒè¯**
- **è„šæœ¬**: `scripts/test/test-database-performance.sh`
- **æè¿°**: æµ‹è¯•æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½å’Œè¿æ¥æ± 
- **é‡è¦æ€§**: ğŸŸ¡ ä¸­ - éªŒè¯æ•°æ®åº“æ€§èƒ½
- **è¿è¡Œå‘½ä»¤**: 
  ```bash
  bash scripts/test/test-database-performance.sh
  ```

#### 8. å®¹å™¨é€šä¿¡æµ‹è¯• âš ï¸ **æœªéªŒè¯**
- **è„šæœ¬**: `scripts/test/test-container-communication.sh`
- **æè¿°**: æµ‹è¯•å®¹å™¨ä¹‹é—´çš„é€šä¿¡å’Œç½‘ç»œè¿æ¥
- **é‡è¦æ€§**: ğŸŸ¡ ä¸­ - éªŒè¯å®¹å™¨åŒ–éƒ¨ç½²
- **è¿è¡Œå‘½ä»¤**: 
  ```bash
  bash scripts/test/test-container-communication.sh
  ```

#### 9. å›¾ç‰‡åŠ è½½å’Œç¼“å­˜æµ‹è¯• âš ï¸ **æœªéªŒè¯**
- **è„šæœ¬**: `scripts/test/test-image-loading-and-cache.sh`
- **æè¿°**: æµ‹è¯•å›¾ç‰‡åŠ è½½æ€§èƒ½å’Œç¼“å­˜ç­–ç•¥
- **é‡è¦æ€§**: ğŸŸ¡ ä¸­ - éªŒè¯å›¾ç‰‡å¤„ç†æ€§èƒ½
- **è¿è¡Œå‘½ä»¤**: 
  ```bash
  BASE_URL=http://localhost:3000 bash scripts/test/test-image-loading-and-cache.sh
  ```

---

### ğŸŸ¢ ä½ä¼˜å…ˆçº§ - ç”¨æˆ·ä½“éªŒå’Œå…¼å®¹æ€§æµ‹è¯•

#### 10. ç”¨æˆ·ä½“éªŒæµ‹è¯• âš ï¸ **æœªéªŒè¯**
- **è„šæœ¬**: `scripts/test/test-user-experience.sh`
- **æè¿°**: æµ‹è¯•é¡µé¢åŠ è½½é€Ÿåº¦ã€å“åº”å¼è®¾è®¡ã€é”™è¯¯æç¤ºã€è¡¨å•éªŒè¯ç­‰
- **é‡è¦æ€§**: ğŸŸ¢ ä½ - éªŒè¯ç”¨æˆ·ä½“éªŒ
- **è¿è¡Œå‘½ä»¤**: 
  ```bash
  BASE_URL=http://localhost:3000 bash scripts/test/test-user-experience.sh
  ```

#### 11. å‰ç«¯ç»„ä»¶æµ‹è¯• âš ï¸ **éƒ¨åˆ†å®Œæˆ**
- **è„šæœ¬**: `scripts/test/test-components.sh`
- **æè¿°**: è¿è¡Œæ‰€æœ‰ React ç»„ä»¶å•å…ƒæµ‹è¯•
- **é‡è¦æ€§**: ğŸŸ¢ ä½ - éªŒè¯å‰ç«¯ç»„ä»¶åŠŸèƒ½
- **å·²æµ‹è¯•ç»„ä»¶** (7ä¸ª):
  - âœ… `consistency-checker.test.tsx` - æ•°æ®ä¸€è‡´æ€§æ£€æŸ¥ç»„ä»¶
  - âœ… `storage-checker.test.tsx` - å­˜å‚¨æ£€æŸ¥ç»„ä»¶
  - âœ… `button.test.tsx` - æŒ‰é’®ç»„ä»¶
  - âœ… `dialog.test.tsx` - å¯¹è¯æ¡†ç»„ä»¶
  - âœ… `confirm-dialog.test.tsx` - ç¡®è®¤å¯¹è¯æ¡†ç»„ä»¶
  - âœ… `template-manager.test.tsx` - æ¨¡æ¿ç®¡ç†ç»„ä»¶
  - âœ… `photo-uploader.test.tsx` - ç…§ç‰‡ä¸Šä¼ ç»„ä»¶
- **å¾…æµ‹è¯•ç»„ä»¶** (25+ä¸ª):
  - âš ï¸ `album-detail-client.tsx` - ç›¸å†Œè¯¦æƒ…ç»„ä»¶ï¼ˆæ ¸å¿ƒï¼‰
  - âš ï¸ `lightbox.tsx` - ç…§ç‰‡æŸ¥çœ‹ç»„ä»¶ï¼ˆæ ¸å¿ƒï¼‰
  - âš ï¸ `masonry.tsx` - ç€‘å¸ƒæµå¸ƒå±€ç»„ä»¶
  - âš ï¸ å…¶ä»– 22+ ç»„ä»¶
- **è¿è¡Œå‘½ä»¤**: 
  ```bash
  pnpm test:components
  ```

#### 12. ç§»åŠ¨ç«¯æµ‹è¯• âš ï¸ **éƒ¨åˆ†å®Œæˆ**
- **è„šæœ¬**: `scripts/test/test-mobile.sh`
- **æè¿°**: æµ‹è¯•ç§»åŠ¨ç«¯åŠŸèƒ½å’Œå“åº”å¼è®¾è®¡
- **é‡è¦æ€§**: ğŸŸ¢ ä½ - éªŒè¯ç§»åŠ¨ç«¯ä½“éªŒ
- **å·²å®ç°**: E2E ç§»åŠ¨ç«¯æµ‹è¯•æ–‡ä»¶ (`e2e/mobile.spec.ts`)
- **è¿è¡Œå‘½ä»¤**: 
  ```bash
  pnpm test:mobile
  # æˆ–
  pnpm exec playwright test --project="Mobile Chrome"
  ```

#### 13. æµè§ˆå™¨å…¼å®¹æ€§æµ‹è¯• âš ï¸ **é…ç½®å®Œæˆï¼Œæœªè¿è¡Œ**
- **è„šæœ¬**: `scripts/test/test-browser-compat.sh`
- **æè¿°**: æµ‹è¯•ä¸åŒæµè§ˆå™¨çš„å…¼å®¹æ€§
- **é‡è¦æ€§**: ğŸŸ¢ ä½ - éªŒè¯è·¨æµè§ˆå™¨å…¼å®¹æ€§
- **çŠ¶æ€**: Playwright é…ç½®æ”¯æŒå¤šæµè§ˆå™¨ï¼ˆChrome, Firefox, Safariï¼‰
- **è¿è¡Œå‘½ä»¤**: 
  ```bash
  bash scripts/test/test-browser-compat.sh
  # æˆ–
  pnpm exec playwright test --project=chromium
  pnpm exec playwright test --project=firefox
  pnpm exec playwright test --project=webkit
  ```

#### 14. è¾¹ç•Œæƒ…å†µæµ‹è¯• âš ï¸ **æœªéªŒè¯**
- **è„šæœ¬**: `scripts/test/test-edge-cases.sh`
- **æè¿°**: æµ‹è¯•å„ç§è¾¹ç•Œæƒ…å†µå’Œå¼‚å¸¸åœºæ™¯
- **é‡è¦æ€§**: ğŸŸ¢ ä½ - éªŒè¯é”™è¯¯å¤„ç†
- **è¿è¡Œå‘½ä»¤**: 
  ```bash
  BASE_URL=http://localhost:3000 bash scripts/test/test-edge-cases.sh
  ```

#### 15. éƒ¨ç½²æµç¨‹æµ‹è¯• âš ï¸ **æœªéªŒè¯**
- **è„šæœ¬**: `scripts/test/test-deployment-flow.sh`
- **æè¿°**: æµ‹è¯•éƒ¨ç½²æµç¨‹å’Œé…ç½®
- **é‡è¦æ€§**: ğŸŸ¢ ä½ - éªŒè¯éƒ¨ç½²æµç¨‹
- **è¿è¡Œå‘½ä»¤**: 
  ```bash
  bash scripts/test/test-deployment-flow.sh
  ```

---

### ğŸ”µ å…¶ä»–æµ‹è¯•è„šæœ¬

#### 16. å®Œæ•´æµ‹è¯•å¥—ä»¶ âš ï¸ **æœªè¿è¡Œ**
- **è„šæœ¬**: `scripts/test/test-complete.sh`
- **æè¿°**: è¿è¡Œå®Œæ•´çš„æµ‹è¯•å¥—ä»¶
- **è¿è¡Œå‘½ä»¤**: 
  ```bash
  bash scripts/test/test-complete.sh
  ```

#### 17. ç»¼åˆæµ‹è¯• âš ï¸ **æœªè¿è¡Œ**
- **è„šæœ¬**: `scripts/test/comprehensive-test.sh`
- **æè¿°**: è¿è¡Œç»¼åˆæµ‹è¯•å¥—ä»¶
- **è¿è¡Œå‘½ä»¤**: 
  ```bash
  bash scripts/test/comprehensive-test.sh
  ```

#### 18. è¿è¡Œæ‰€æœ‰æµ‹è¯• âš ï¸ **æœªè¿è¡Œ**
- **è„šæœ¬**: `scripts/test/test-all.sh`
- **æè¿°**: è¿è¡Œæ‰€æœ‰æµ‹è¯•è„šæœ¬
- **è¿è¡Œå‘½ä»¤**: 
  ```bash
  bash scripts/test/test-all.sh
  ```

#### 19. å¿«é€ŸéªŒè¯ âš ï¸ **æœªè¿è¡Œ**
- **è„šæœ¬**: `scripts/test/quick-verify.sh`
- **æè¿°**: å¿«é€ŸéªŒè¯ç³»ç»ŸçŠ¶æ€
- **è¿è¡Œå‘½ä»¤**: 
  ```bash
  bash scripts/test/quick-verify.sh
  ```

#### 20. æœ¬åœ°æµ‹è¯• âš ï¸ **æœªè¿è¡Œ**
- **è„šæœ¬**: `scripts/test/local-test.sh`
- **æè¿°**: æœ¬åœ°ç¯å¢ƒæµ‹è¯•
- **è¿è¡Œå‘½ä»¤**: 
  ```bash
  bash scripts/test/local-test.sh
  ```

#### 21. å¯åŠ¨å¹¶æµ‹è¯• âš ï¸ **æœªè¿è¡Œ**
- **è„šæœ¬**: `scripts/test/start-and-test.sh`
- **æè¿°**: å¯åŠ¨æœåŠ¡å¹¶è¿è¡Œæµ‹è¯•
- **è¿è¡Œå‘½ä»¤**: 
  ```bash
  bash scripts/test/start-and-test.sh
  ```

---

## ğŸ“‹ å•å…ƒæµ‹è¯•æ–‡ä»¶ (74ä¸ª .test.ts æ–‡ä»¶)

### âš ï¸ çŠ¶æ€æœªçŸ¥çš„å•å…ƒæµ‹è¯•

é¡¹ç›®ä¸­æœ‰ **74ä¸ª** `.test.ts` å•å…ƒæµ‹è¯•æ–‡ä»¶ï¼Œéœ€è¦è¿è¡ŒéªŒè¯ï¼š

```bash
# è¿è¡Œæ‰€æœ‰å•å…ƒæµ‹è¯•
cd apps/web
pnpm test

# æŸ¥çœ‹æµ‹è¯•è¦†ç›–ç‡
pnpm test:coverage
```

**ä¸»è¦æµ‹è¯•æ–‡ä»¶ç±»åˆ«**:
- API è·¯ç”±æµ‹è¯• (40+ ä¸ª)
- å·¥å…·å‡½æ•°æµ‹è¯• (10+ ä¸ª)
- åº“å‡½æ•°æµ‹è¯• (15+ ä¸ª)
- Worker æœåŠ¡æµ‹è¯• (9+ ä¸ª)

---

## ğŸ¯ å»ºè®®çš„æµ‹è¯•ä¼˜å…ˆçº§

### ç«‹å³è¿è¡Œ (é«˜ä¼˜å…ˆçº§)

1. **API ç«¯ç‚¹æµ‹è¯•** - éªŒè¯æ‰€æœ‰ API æ˜¯å¦æ­£å¸¸å·¥ä½œ
2. **E2E æµ‹è¯•** - éªŒè¯å®Œæ•´ç”¨æˆ·æµç¨‹
3. **ç™»å½•æµç¨‹æµ‹è¯•** - éªŒè¯ç™»å½•åŠŸèƒ½
4. **è´¦æˆ·åˆ›å»ºæµç¨‹æµ‹è¯•** - éªŒè¯ç”¨æˆ·åˆ›å»ºåŠŸèƒ½

### è¿‘æœŸè¿è¡Œ (ä¸­ä¼˜å…ˆçº§)

5. **360åº¦å…¨é¢æµ‹è¯•** - å…¨é¢ç³»ç»Ÿæµ‹è¯•
6. **é«˜å¹¶å‘æµ‹è¯•** - éªŒè¯ç³»ç»Ÿæ€§èƒ½
7. **æ•°æ®åº“æ€§èƒ½æµ‹è¯•** - éªŒè¯æ•°æ®åº“æ€§èƒ½
8. **å®¹å™¨é€šä¿¡æµ‹è¯•** - éªŒè¯å®¹å™¨åŒ–éƒ¨ç½²

### å¯é€‰è¿è¡Œ (ä½ä¼˜å…ˆçº§)

9. **ç”¨æˆ·ä½“éªŒæµ‹è¯•** - éªŒè¯ UX
10. **å‰ç«¯ç»„ä»¶æµ‹è¯•** - éªŒè¯ç»„ä»¶åŠŸèƒ½
11. **ç§»åŠ¨ç«¯æµ‹è¯•** - éªŒè¯ç§»åŠ¨ç«¯ä½“éªŒ
12. **æµè§ˆå™¨å…¼å®¹æ€§æµ‹è¯•** - éªŒè¯è·¨æµè§ˆå™¨å…¼å®¹æ€§
13. **è¾¹ç•Œæƒ…å†µæµ‹è¯•** - éªŒè¯é”™è¯¯å¤„ç†

---

## ğŸš€ å¿«é€Ÿè¿è¡Œæ‰€æœ‰æµ‹è¯•

### æ–¹å¼1: è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶
```bash
bash scripts/test/test-all.sh
```

### æ–¹å¼2: è¿è¡Œç»¼åˆæµ‹è¯•
```bash
bash scripts/test/comprehensive-test.sh
```

### æ–¹å¼3: åˆ†æ­¥è¿è¡Œ
```bash
# 1. API ç«¯ç‚¹æµ‹è¯•
BASE_URL=http://localhost:3000 bash scripts/test/test-api-endpoints.sh

# 2. E2E æµ‹è¯•
pnpm test:e2e:ui

# 3. ç»„ä»¶æµ‹è¯•
pnpm test:components

# 4. æ€§èƒ½æµ‹è¯•
BASE_URL=http://localhost:3000 bash scripts/test/test-high-concurrency.sh
```

---

## ğŸ“Š æµ‹è¯•è¦†ç›–ç‡ç›®æ ‡

| æµ‹è¯•ç±»å‹ | å½“å‰çŠ¶æ€ | ç›®æ ‡è¦†ç›–ç‡ |
|---------|---------|-----------|
| API ç«¯ç‚¹ | âš ï¸ æœªéªŒè¯ | 95% |
| E2E æµç¨‹ | âš ï¸ éƒ¨åˆ†å®Œæˆ | 80% |
| å‰ç«¯ç»„ä»¶ | âš ï¸ 12% (7/58) | 70% |
| å•å…ƒæµ‹è¯• | âš ï¸ æœªéªŒè¯ | 80% |
| æ€§èƒ½æµ‹è¯• | âš ï¸ æœªéªŒè¯ | 60% |
| ç§»åŠ¨ç«¯ | âš ï¸ éƒ¨åˆ†å®Œæˆ | 60% |
| æµè§ˆå™¨å…¼å®¹ | âš ï¸ é…ç½®å®Œæˆ | 80% |

---

## âœ… æ€»ç»“

**å·²æ£€æŸ¥**: 8 ä¸ªæµ‹è¯•å¥—ä»¶  
**æœªæ£€æŸ¥**: 20+ ä¸ªæµ‹è¯•è„šæœ¬ + 74 ä¸ªå•å…ƒæµ‹è¯•æ–‡ä»¶

**å»ºè®®**: 
1. ä¼˜å…ˆè¿è¡Œé«˜ä¼˜å…ˆçº§çš„æ ¸å¿ƒåŠŸèƒ½æµ‹è¯•
2. ç„¶åè¿è¡Œä¸­ä¼˜å…ˆçº§çš„æ€§èƒ½å’Œç¨³å®šæ€§æµ‹è¯•
3. æœ€åè¿è¡Œä½ä¼˜å…ˆçº§çš„ç”¨æˆ·ä½“éªŒå’Œå…¼å®¹æ€§æµ‹è¯•

---

**æœ€åæ›´æ–°**: 2026-02-06
